{"ast":null,"code":"var _jsxFileName = \"/Users/iamwhoiam/Desktop/slooze-assignment/frontend/src/app.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\n\n// Simple constants\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:4000/api';\n\n// small helper to call API with user header\nfunction apiFetch(path, userId, opts = {}) {\n  opts.headers = opts.headers || {};\n  if (userId) opts.headers['x-user-id'] = userId;\n  opts.headers['Content-Type'] = 'application/json';\n  return fetch(`${API}${path}`, opts).then(r => r.json());\n}\nfunction Login({\n  onLogin,\n  users\n}) {\n  _s();\n  var _users$;\n  const [sel, setSel] = useState(((_users$ = users[0]) === null || _users$ === void 0 ? void 0 : _users$.id) || '');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 10,\n      border: '1px solid #ddd',\n      marginBottom: 10\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Quick Login (select user)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: sel,\n      onChange: e => setSel(e.target.value),\n      children: users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: u.id,\n        children: [u.name, \" \\u2014 \", u.role, \" \\u2014 \", u.country]\n      }, u.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => onLogin(sel),\n      style: {\n        marginLeft: 10\n      },\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"AGiTgDWfupEh7p3t/vJ1kAb+yV4=\");\n_c = Login;\nfunction Restaurants({\n  user,\n  onOpen\n}) {\n  _s2();\n  const [rests, setRests] = useState([]);\n  useEffect(() => {\n    if (!user) return;\n    apiFetch('/restaurants', user.id).then(r => {\n      if (r.restaurants) setRests(r.restaurants);\n    });\n  }, [user]);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Please login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Restaurants (visible to you)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), rests.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #eee',\n        padding: 8,\n        marginBottom: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"b\", {\n        children: r.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\"(\", r.country, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onOpen(r),\n          children: \"View menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 16\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }, this)]\n    }, r.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s2(Restaurants, \"+PQFW8agIVi8PIDy7Hd/Mpv+QnA=\");\n_c2 = Restaurants;\nfunction Menu({\n  user,\n  restaurant,\n  onAdd\n}) {\n  _s3();\n  const [menu, setMenu] = useState([]);\n  useEffect(() => {\n    if (!restaurant || !user) return;\n    apiFetch(`/restaurants/${restaurant.id}/menu`, user.id).then(r => {\n      if (r.menu) setMenu(r.menu);\n    }).catch(() => {});\n  }, [restaurant, user]);\n  if (!restaurant) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: 10\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: [\"Menu: \", restaurant.name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), menu.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 6\n      },\n      children: [it.name, \" \\u2014 $\", it.price.toFixed(2), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onAdd({\n          ...it,\n          qty: 1\n        }),\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 46\n      }, this)]\n    }, it.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s3(Menu, \"TyRRGMBrOm8vv3j6nVy8yxLr7Sc=\");\n_c3 = Menu;\nfunction Cart({\n  user,\n  cart,\n  setCart,\n  onCheckout,\n  onCancel\n}) {\n  const total = cart.reduce((s, i) => s + i.price * i.qty, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: '1px solid #ccc',\n      padding: 8,\n      marginTop: 10\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), cart.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No items yet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 27\n    }, this), cart.map((it, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [it.name, \" x\", it.qty, \" \\u2014 $\", (it.price * it.qty).toFixed(2), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const copy = [...cart];\n          copy.splice(idx, 1);\n          setCart(copy);\n        },\n        style: {\n          marginLeft: 8\n        },\n        children: \"remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: [\"Total: $\", total.toFixed(2)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onCheckout(),\n        disabled: cart.length === 0,\n        children: \"Checkout / Pay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onCancel(),\n        style: {\n          marginLeft: 8\n        },\n        children: \"Cancel Order (if created)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_c4 = Cart;\nexport default function App() {\n  _s4();\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [restaurant, setRestaurant] = useState(null);\n  const [cart, setCart] = useState([]);\n  const [orders, setOrders] = useState([]);\n\n  // fetch seeded users (we use /api/me with different header) — simpler: fetch list via /api/me using no header fails\n  // so we will hardcode users that match backend seed (keeps front simple)\n  useEffect(() => {\n    // mirror backend seed users (must be kept in sync with backend/utils.js)\n    setUsers([{\n      id: 'u1',\n      name: 'Nick Fury',\n      role: 'ADMIN',\n      country: 'GLOBAL'\n    }, {\n      id: 'u2',\n      name: 'Captain Marvel',\n      role: 'MANAGER',\n      country: 'India'\n    }, {\n      id: 'u3',\n      name: 'Captain America',\n      role: 'MANAGER',\n      country: 'America'\n    }, {\n      id: 'u4',\n      name: 'Thanos',\n      role: 'MEMBER',\n      country: 'India'\n    }, {\n      id: 'u5',\n      name: 'Thor',\n      role: 'MEMBER',\n      country: 'India'\n    }, {\n      id: 'u6',\n      name: 'Travis',\n      role: 'MEMBER',\n      country: 'America'\n    }]);\n  }, []);\n  const onLogin = id => {\n    // fetch /api/me with header to get user object from backend (so paymentMethods etc are included)\n    apiFetch('/me', id).then(r => {\n      if (r.user) {\n        setUser(r.user);\n        setCart([]);\n        refreshOrders(r.user);\n      } else {\n        alert('login failed');\n      }\n    });\n  };\n  const refreshOrders = u => {\n    apiFetch('/orders', u.id).then(r => {\n      if (r.orders) setOrders(r.orders);\n    });\n  };\n  const onAddToCart = item => {\n    setCart(prev => {\n      const foundIdx = prev.findIndex(p => p.id === item.id);\n      if (foundIdx >= 0) {\n        const cp = [...prev];\n        cp[foundIdx].qty += 1;\n        return cp;\n      }\n      return [...prev, item];\n    });\n  };\n  const onCreateOrder = () => {\n    if (!user) return alert('login first');\n    if (!restaurant) return alert('open a restaurant first');\n    const payload = {\n      restaurantId: restaurant.id,\n      items: cart\n    };\n    apiFetch('/orders', user.id, {\n      method: 'POST',\n      body: JSON.stringify(payload)\n    }).then(r => {\n      if (r.order) {\n        alert('Order created: ' + r.order.id);\n        setCart([]);\n        refreshOrders(user);\n      } else {\n        alert(JSON.stringify(r));\n      }\n    });\n  };\n  const onCheckout = () => {\n    // To test: pick last created order from server orders\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to checkout (create one first)');\n      apiFetch(`/orders/${ord.id}/checkout`, user.id, {\n        method: 'POST'\n      }).then(res => {\n        if (res.order) {\n          alert('Paid ' + ord.id);\n          refreshOrders(user);\n        } else alert(JSON.stringify(res));\n      });\n    });\n  };\n  const onCancel = () => {\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to cancel');\n      apiFetch(`/orders/${ord.id}/cancel`, user.id, {\n        method: 'POST'\n      }).then(res => {\n        if (res.order) {\n          alert('Cancelled ' + ord.id);\n          refreshOrders(user);\n        } else alert(JSON.stringify(res));\n      });\n    });\n  };\n  const updatePaymentForUser = () => {\n    if (!user) return alert('login first');\n    const newPm = [{\n      id: 'pm_new',\n      type: 'card',\n      last4: '9999'\n    }];\n    apiFetch(`/users/${user.id}/payment`, user.id, {\n      method: 'PUT',\n      body: JSON.stringify({\n        paymentMethods: newPm\n      })\n    }).then(r => {\n      if (r.user) {\n        alert('Payment updated for ' + r.user.name);\n        // refresh me\n        apiFetch('/me', user.id).then(rr => setUser(rr.user));\n      } else alert(JSON.stringify(r));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 20,\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Food Ordering \\u2014 Take Home Demo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Login, {\n      users: users,\n      onLogin: onLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 10\n      },\n      children: [\"Logged in as \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 60\n      }, this), \" (\", user.role, \" / \", user.country, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(Restaurants, {\n          user: user,\n          onOpen: r => setRestaurant(r)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          user: user,\n          restaurant: restaurant,\n          onAdd: onAddToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: 350\n        },\n        children: [/*#__PURE__*/_jsxDEV(Cart, {\n          user: user,\n          cart: cart,\n          setCart: setCart,\n          onCheckout: () => {\n            onCreateOrder();\n            setTimeout(() => onCheckout(), 300);\n          } // make create then checkout quick demo\n          ,\n          onCancel: () => {\n            onCreateOrder();\n            setTimeout(() => onCancel(), 300);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (cart.length === 0) return alert('add items then create order');\n              onCreateOrder();\n            },\n            children: \"Create Order (save)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => updatePaymentForUser(),\n            style: {\n              marginLeft: 8\n            },\n            children: \"Update Payment Method (admin only)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Your visible orders\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => refreshOrders(user),\n            children: \"Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: orders.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                border: '1px solid #eee',\n                padding: 6,\n                marginTop: 6\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"#\", o.id, \" \\u2014 \", o.status, \" \\u2014 $\", o.total.toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"Restaurant: \", o.restaurantId, \" \\u2014 country: \", o.country]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this)]\n            }, o.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n      children: \"Note: This is a small educational demo. Backend is in-memory and simulates payment and auth via x-user-id header.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 5\n  }, this);\n}\n_s4(App, \"jCXuDC7t0awCSD2RUaVl1Ts2hTI=\");\n_c5 = App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"Restaurants\");\n$RefreshReg$(_c3, \"Menu\");\n$RefreshReg$(_c4, \"Cart\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","API","apiFetch","path","userId","opts","headers","fetch","then","r","json","Login","onLogin","users","_s","_users$","sel","setSel","id","style","padding","border","marginBottom","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","u","name","role","country","onClick","marginLeft","_c","Restaurants","user","onOpen","_s2","rests","setRests","restaurants","_c2","Menu","restaurant","onAdd","_s3","menu","setMenu","catch","marginTop","it","price","toFixed","qty","_c3","Cart","cart","setCart","onCheckout","onCancel","total","reduce","s","i","length","idx","copy","splice","disabled","_c4","App","_s4","setUsers","setUser","setRestaurant","orders","setOrders","refreshOrders","alert","onAddToCart","item","prev","foundIdx","findIndex","p","cp","onCreateOrder","payload","restaurantId","items","method","body","JSON","stringify","order","list","ord","slice","res","updatePaymentForUser","newPm","type","last4","paymentMethods","rr","fontFamily","display","gap","flex","width","setTimeout","o","status","_c5","$RefreshReg$"],"sources":["/Users/iamwhoiam/Desktop/slooze-assignment/frontend/src/app.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\n// Simple constants\nconst API = 'http://localhost:4000/api';\n\n// small helper to call API with user header\nfunction apiFetch(path, userId, opts = {}) {\n  opts.headers = opts.headers || {};\n  if (userId) opts.headers['x-user-id'] = userId;\n  opts.headers['Content-Type'] = 'application/json';\n  return fetch(`${API}${path}`, opts).then(r => r.json());\n}\n\nfunction Login({ onLogin, users }) {\n  const [sel, setSel] = useState(users[0]?.id || '');\n  return (\n    <div style={{padding:10, border:'1px solid #ddd', marginBottom:10}}>\n      <h3>Quick Login (select user)</h3>\n      <select value={sel} onChange={e => setSel(e.target.value)}>\n        {users.map(u => <option key={u.id} value={u.id}>{u.name} — {u.role} — {u.country}</option>)}\n      </select>\n      <button onClick={() => onLogin(sel)} style={{marginLeft:10}}>Login</button>\n    </div>\n  );\n}\n\nfunction Restaurants({ user, onOpen }) {\n  const [rests, setRests] = useState([]);\n  useEffect(() => {\n    if (!user) return;\n    apiFetch('/restaurants', user.id).then(r => {\n      if (r.restaurants) setRests(r.restaurants);\n    });\n  }, [user]);\n  if (!user) return <div>Please login</div>;\n  return (\n    <div>\n      <h3>Restaurants (visible to you)</h3>\n      {rests.map(r => (\n        <div key={r.id} style={{border:'1px solid #eee', padding:8, marginBottom:6}}>\n          <b>{r.name}</b> <small>({r.country})</small>\n          <div><button onClick={() => onOpen(r)}>View menu</button></div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction Menu({ user, restaurant, onAdd }) {\n  const [menu, setMenu] = useState([]);\n  useEffect(() => {\n    if (!restaurant || !user) return;\n    apiFetch(`/restaurants/${restaurant.id}/menu`, user.id).then(r => {\n      if (r.menu) setMenu(r.menu);\n    }).catch(()=>{});\n  }, [restaurant, user]);\n  if (!restaurant) return null;\n  return (\n    <div style={{marginTop:10}}>\n      <h4>Menu: {restaurant.name}</h4>\n      {menu.map(it => (\n        <div key={it.id} style={{padding:6}}>\n          {it.name} — ${it.price.toFixed(2)} <button onClick={() => onAdd({ ...it, qty:1})}>Add</button>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nfunction Cart({ user, cart, setCart, onCheckout, onCancel }) {\n  const total = cart.reduce((s,i) => s + i.price * i.qty, 0);\n  return (\n    <div style={{border:'1px solid #ccc', padding:8, marginTop:10}}>\n      <h4>Cart</h4>\n      {cart.length===0 && <div>No items yet</div>}\n      {cart.map((it, idx) => (\n        <div key={idx}>\n          {it.name} x{it.qty} — ${ (it.price * it.qty).toFixed(2) }\n          <button onClick={() => {\n            const copy = [...cart]; copy.splice(idx,1); setCart(copy);\n          }} style={{marginLeft:8}}>remove</button>\n        </div>\n      ))}\n      <div style={{marginTop:8}}>Total: ${total.toFixed(2)}</div>\n\n      <div style={{marginTop:8}}>\n        {/* place order (checkout) only for admins/managers — backend enforces */}\n        <button onClick={() => onCheckout()} disabled={cart.length===0}>Checkout / Pay</button>\n        <button onClick={() => onCancel()} style={{marginLeft:8}}>Cancel Order (if created)</button>\n      </div>\n    </div>\n  );\n}\n\nexport default function App() {\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [restaurant, setRestaurant] = useState(null);\n  const [cart, setCart] = useState([]);\n  const [orders, setOrders] = useState([]);\n\n  // fetch seeded users (we use /api/me with different header) — simpler: fetch list via /api/me using no header fails\n  // so we will hardcode users that match backend seed (keeps front simple)\n  useEffect(() => {\n    // mirror backend seed users (must be kept in sync with backend/utils.js)\n    setUsers([\n      { id: 'u1', name: 'Nick Fury', role: 'ADMIN', country: 'GLOBAL' },\n      { id: 'u2', name: 'Captain Marvel', role: 'MANAGER', country: 'India' },\n      { id: 'u3', name: 'Captain America', role: 'MANAGER', country: 'America' },\n      { id: 'u4', name: 'Thanos', role: 'MEMBER', country: 'India' },\n      { id: 'u5', name: 'Thor', role: 'MEMBER', country: 'India' },\n      { id: 'u6', name: 'Travis', role: 'MEMBER', country: 'America' }\n    ]);\n  }, []);\n\n  const onLogin = (id) => {\n    // fetch /api/me with header to get user object from backend (so paymentMethods etc are included)\n    apiFetch('/me', id).then(r => {\n      if (r.user) {\n        setUser(r.user);\n        setCart([]);\n        refreshOrders(r.user);\n      } else {\n        alert('login failed');\n      }\n    });\n  };\n\n  const refreshOrders = (u) => {\n    apiFetch('/orders', u.id).then(r => {\n      if (r.orders) setOrders(r.orders);\n    });\n  };\n\n  const onAddToCart = (item) => {\n    setCart(prev => {\n      const foundIdx = prev.findIndex(p => p.id === item.id);\n      if (foundIdx >= 0) {\n        const cp = [...prev]; cp[foundIdx].qty += 1; return cp;\n      }\n      return [...prev, item];\n    });\n  };\n\n  const onCreateOrder = () => {\n    if (!user) return alert('login first');\n    if (!restaurant) return alert('open a restaurant first');\n    const payload = { restaurantId: restaurant.id, items: cart };\n    apiFetch('/orders', user.id, { method: 'POST', body: JSON.stringify(payload) })\n      .then(r => {\n        if (r.order) {\n          alert('Order created: ' + r.order.id);\n          setCart([]);\n          refreshOrders(user);\n        } else {\n          alert(JSON.stringify(r));\n        }\n      });\n  };\n\n  const onCheckout = () => {\n    // To test: pick last created order from server orders\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to checkout (create one first)');\n      apiFetch(`/orders/${ord.id}/checkout`, user.id, { method: 'POST' })\n        .then(res => {\n          if (res.order) {\n            alert('Paid ' + ord.id);\n            refreshOrders(user);\n          } else alert(JSON.stringify(res));\n        });\n    });\n  };\n\n  const onCancel = () => {\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to cancel');\n      apiFetch(`/orders/${ord.id}/cancel`, user.id, { method: 'POST' })\n        .then(res => {\n          if (res.order) {\n            alert('Cancelled ' + ord.id);\n            refreshOrders(user);\n          } else alert(JSON.stringify(res));\n        });\n    });\n  };\n\n  const updatePaymentForUser = () => {\n    if (!user) return alert('login first');\n    const newPm = [{ id: 'pm_new', type: 'card', last4: '9999' }];\n    apiFetch(`/users/${user.id}/payment`, user.id, { method: 'PUT', body: JSON.stringify({ paymentMethods: newPm }) })\n      .then(r => {\n        if (r.user) {\n          alert('Payment updated for ' + r.user.name);\n          // refresh me\n          apiFetch('/me', user.id).then(rr => setUser(rr.user));\n        } else alert(JSON.stringify(r));\n      });\n  };\n\n  return (\n    <div style={{padding:20, fontFamily:'sans-serif'}}>\n      <h2>Food Ordering — Take Home Demo</h2>\n      <Login users={users} onLogin={onLogin} />\n      {user && <div style={{marginBottom:10}}>Logged in as <b>{user.name}</b> ({user.role} / {user.country})</div>}\n\n      <div style={{display:'flex', gap:20}}>\n        <div style={{flex:1}}>\n          <Restaurants user={user} onOpen={r => setRestaurant(r)} />\n          <Menu user={user} restaurant={restaurant} onAdd={onAddToCart} />\n        </div>\n\n        <div style={{width:350}}>\n          <Cart user={user} cart={cart} setCart={setCart}\n                onCheckout={() => { onCreateOrder(); setTimeout(()=>onCheckout(),300); }} // make create then checkout quick demo\n                onCancel={() => { onCreateOrder(); setTimeout(()=>onCancel(),300); }} />\n          <div style={{marginTop:12}}>\n            <button onClick={() => { if (cart.length===0) return alert('add items then create order'); onCreateOrder(); }}>Create Order (save)</button>\n            <button onClick={() => updatePaymentForUser()} style={{marginLeft:8}}>Update Payment Method (admin only)</button>\n          </div>\n\n          <div style={{marginTop:16}}>\n            <h4>Your visible orders</h4>\n            <button onClick={() => refreshOrders(user)}>Refresh</button>\n            <div>\n              {orders.map(o => (\n                <div key={o.id} style={{border:'1px solid #eee', padding:6, marginTop:6}}>\n                  <div>#{o.id} — {o.status} — ${o.total.toFixed(2)}</div>\n                  <small>Restaurant: {o.restaurantId} — country: {o.country}</small>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <hr />\n      <small>Note: This is a small educational demo. Backend is in-memory and simulates payment and auth via x-user-id header.</small>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}