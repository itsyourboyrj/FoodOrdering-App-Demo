{"ast":null,"code":"var _jsxFileName = \"/Users/iamwhoiam/Desktop/slooze-assignment/frontend/src/app.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API = 'http://localhost:4000/api';\n\n// Format price based on user country\nfunction formatPrice(user, price) {\n  if (!user) return price;\n  if (user.country === 'India') return `₹${price}`;\n  return `$${price}`;\n}\n\n// sCalling API with optional userId header\nfunction apiFetch(path, userId, opts = {}) {\n  opts.headers = opts.headers || {};\n  if (userId) opts.headers['x-user-id'] = userId;\n  opts.headers['Content-Type'] = 'application/json';\n  return fetch(`${API}${path}`, opts).then(async r => {\n    try {\n      return await r.json();\n    } catch {\n      return {};\n    }\n  });\n}\nfunction Login({\n  onLogin,\n  users\n}) {\n  _s();\n  var _users$;\n  const [sel, setSel] = useState(((_users$ = users[0]) === null || _users$ === void 0 ? void 0 : _users$.id) || '');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    style: {\n      display: 'flex',\n      gap: 10,\n      alignItems: 'center'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700\n        },\n        children: \"Quick login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"small\",\n        children: \"Simulated users (pick a role)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"usersel\",\n      value: sel,\n      onChange: e => setSel(e.target.value),\n      children: users.map(u => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: u.id,\n        children: [u.name, \" \\u2014 \", u.role, \" \\u2014 \", u.country]\n      }, u.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => onLogin(sel),\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"AGiTgDWfupEh7p3t/vJ1kAb+yV4=\");\n_c = Login;\nfunction Restaurants({\n  user,\n  onOpen\n}) {\n  _s2();\n  const [rests, setRests] = useState([]);\n  useEffect(() => {\n    if (!user) return;\n    apiFetch('/restaurants', user.id).then(r => {\n      if (r.restaurants) setRests(r.restaurants);\n    });\n  }, [user]);\n  if (!user) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel small\",\n    children: \"Please login to view restaurants.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700\n        },\n        children: \"Restaurants\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"small\",\n        children: \"Visible to you\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rest-list\",\n      style: {\n        marginTop: 12\n      },\n      children: rests.map(r => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rest-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"meta\",\n            children: r.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            children: r.country\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-ghost\",\n            onClick: () => onOpen(r),\n            children: \"View menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)]\n      }, r.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s2(Restaurants, \"+PQFW8agIVi8PIDy7Hd/Mpv+QnA=\");\n_c2 = Restaurants;\nfunction Menu({\n  user,\n  restaurant,\n  onAdd\n}) {\n  _s3();\n  const [menu, setMenu] = useState([]);\n  useEffect(() => {\n    if (!restaurant || !user) return;\n    apiFetch(`/restaurants/${restaurant.id}/menu`, user.id).then(r => {\n      if (r.menu) setMenu(r.menu);else setMenu([]);\n    }).catch(() => setMenu([]));\n  }, [restaurant, user]);\n  if (!restaurant) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    style: {\n      marginTop: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700\n        },\n        children: [\"Menu \\u2014 \", restaurant.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"small\",\n        children: \"Tap to add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu\",\n      children: menu.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"menu-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600\n            },\n            children: it.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small\",\n            children: formatPrice(user, it.price)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => onAdd({\n              ...it,\n              qty: 1\n            }),\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)]\n      }, it.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n_s3(Menu, \"TyRRGMBrOm8vv3j6nVy8yxLr7Sc=\");\n_c3 = Menu;\nfunction Cart({\n  user,\n  cart,\n  setCart,\n  onCheckout,\n  onCancel\n}) {\n  const total = cart.reduce((s, i) => s + i.price * i.qty, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"panel\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontWeight: 700\n        },\n        children: \"Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"small\",\n        children: [cart.length, \" item(s)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-items\",\n      style: {\n        marginTop: 10\n      },\n      children: [cart.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"small\",\n        children: \"No items yet \\u2014 add from the menu\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 29\n      }, this), cart.map((it, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontWeight: 600\n            },\n            children: [it.name, \" \", /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"small\",\n              children: [\"x\", it.qty]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 55\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small\",\n            children: formatPrice(user, it.price * it.qty)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            onClick: () => {\n              const copy = [...cart];\n              copy.splice(idx, 1);\n              setCart(copy);\n            },\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 12,\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"small\",\n          children: \"Total\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 800,\n            fontSize: 18\n          },\n          children: formatPrice(user, total)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-ghost\",\n          onClick: onCancel,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: onCheckout,\n          disabled: cart.length === 0,\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 5\n  }, this);\n}\n_c4 = Cart;\nexport default function App() {\n  _s4();\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [restaurant, setRestaurant] = useState(null);\n  const [cart, setCart] = useState([]);\n  const [orders, setOrders] = useState([]);\n  useEffect(() => {\n    setUsers([{\n      id: 'u1',\n      name: 'Nick Fury',\n      role: 'ADMIN',\n      country: 'GLOBAL'\n    }, {\n      id: 'u2',\n      name: 'Captain Marvel',\n      role: 'MANAGER',\n      country: 'India'\n    }, {\n      id: 'u3',\n      name: 'Captain America',\n      role: 'MANAGER',\n      country: 'America'\n    }, {\n      id: 'u4',\n      name: 'Thanos',\n      role: 'MEMBER',\n      country: 'India'\n    }, {\n      id: 'u5',\n      name: 'Thor',\n      role: 'MEMBER',\n      country: 'India'\n    }, {\n      id: 'u6',\n      name: 'Travis',\n      role: 'MEMBER',\n      country: 'America'\n    }]);\n  }, []);\n  const onLogin = id => {\n    apiFetch('/me', id).then(r => {\n      if (r.user) {\n        setUser(r.user);\n        setCart([]);\n        refreshOrders(r.user);\n      } else {\n        alert('login failed');\n      }\n    });\n  };\n  const refreshOrders = u => {\n    apiFetch('/orders', u.id).then(r => {\n      if (r.orders) setOrders(r.orders);\n    });\n  };\n  const onAddToCart = item => {\n    setCart(prev => {\n      const foundIdx = prev.findIndex(p => p.id === item.id);\n      if (foundIdx >= 0) {\n        const cp = [...prev];\n        cp[foundIdx].qty += 1;\n        return cp;\n      }\n      return [...prev, item];\n    });\n  };\n  const onCreateOrder = () => {\n    if (!user) return alert('login first');\n    if (!restaurant) return alert('open a restaurant first');\n    const payload = {\n      restaurantId: restaurant.id,\n      items: cart\n    };\n    apiFetch('/orders', user.id, {\n      method: 'POST',\n      body: JSON.stringify(payload)\n    }).then(r => {\n      if (r.order) {\n        alert('Order created: ' + r.order.id);\n        setCart([]);\n        refreshOrders(user);\n      } else {\n        alert(JSON.stringify(r));\n      }\n    });\n  };\n  const onCheckout = () => {\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to checkout (create one first)');\n      apiFetch(`/orders/${ord.id}/checkout`, user.id, {\n        method: 'POST'\n      }).then(res => {\n        if (res.order) {\n          alert('Paid ' + ord.id);\n          refreshOrders(user);\n        } else alert(JSON.stringify(res));\n      });\n    });\n  };\n  const onCancel = () => {\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to cancel');\n      apiFetch(`/orders/${ord.id}/cancel`, user.id, {\n        method: 'POST'\n      }).then(res => {\n        if (res.order) {\n          alert('Cancelled ' + ord.id);\n          refreshOrders(user);\n        } else alert(JSON.stringify(res));\n      });\n    });\n  };\n  const updatePaymentForUser = () => {\n    if (!user) return alert('login first');\n    const newPm = [{\n      id: 'pm_new',\n      type: 'card',\n      last4: '9999'\n    }];\n    apiFetch(`/users/${user.id}/payment`, user.id, {\n      method: 'PUT',\n      body: JSON.stringify({\n        paymentMethods: newPm\n      })\n    }).then(r => {\n      if (r.user) {\n        alert('Payment updated for ' + r.user.name);\n        apiFetch('/me', user.id).then(rr => setUser(rr.user));\n      } else alert(JSON.stringify(r));\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: \"FR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"h1\",\n            children: \"Food Ordering \\u2014 Demo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: \"small\",\n            children: \"By : Ravi Raj Role-based demo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginRight: 8\n          },\n          children: user ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"small\",\n            children: [\"Signed in: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"kv\",\n              children: user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 82\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 48\n          }, this) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Login, {\n      users: users,\n      onLogin: onLogin\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"layout\",\n      style: {\n        marginTop: 14\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Restaurants, {\n          user: user,\n          onOpen: r => setRestaurant(r)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          user: user,\n          restaurant: restaurant,\n          onAdd: onAddToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"side\",\n        children: [/*#__PURE__*/_jsxDEV(Cart, {\n          user: user,\n          cart: cart,\n          setCart: setCart,\n          onCheckout: () => {\n            onCreateOrder();\n            setTimeout(() => onCheckout(), 300);\n          },\n          onCancel: () => {\n            onCreateOrder();\n            setTimeout(() => onCancel(), 300);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"panel\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700\n              },\n              children: \"Your visible orders\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small\",\n              children: \"Tap refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 8\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-ghost\",\n              onClick: () => refreshOrders(user),\n              children: \"Refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 10\n            },\n            children: orders.map(o => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: 10,\n                borderRadius: 10,\n                marginTop: 8,\n                border: '1px solid #f0f6ff'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 700\n                },\n                children: [o.id, \" \\u2014 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"small\",\n                  children: o.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 58\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"small\",\n                children: [\"Restaurant: \", o.restaurantId, \" \\u2014 country: \", o.country, \" \\u2014 ttotal: \", formatPrice(user, o.total)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this)]\n            }, o.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"footer\",\n          children: /*#__PURE__*/_jsxDEV(\"small\", {\n            children: \"Backend: http://localhost:4000 \\xB7 In-memory demo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this);\n}\n_s4(App, \"jCXuDC7t0awCSD2RUaVl1Ts2hTI=\");\n_c5 = App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"Restaurants\");\n$RefreshReg$(_c3, \"Menu\");\n$RefreshReg$(_c4, \"Cart\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useEffect","useState","jsxDEV","_jsxDEV","API","formatPrice","user","price","country","apiFetch","path","userId","opts","headers","fetch","then","r","json","Login","onLogin","users","_s","_users$","sel","setSel","id","className","style","display","gap","alignItems","children","flex","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","u","name","role","onClick","_c","Restaurants","onOpen","_s2","rests","setRests","restaurants","justifyContent","marginTop","_c2","Menu","restaurant","onAdd","_s3","menu","setMenu","catch","it","qty","_c3","Cart","cart","setCart","onCheckout","onCancel","total","reduce","s","i","length","idx","copy","splice","fontSize","disabled","_c4","App","_s4","setUsers","setUser","setRestaurant","orders","setOrders","refreshOrders","alert","onAddToCart","item","prev","foundIdx","findIndex","p","cp","onCreateOrder","payload","restaurantId","items","method","body","JSON","stringify","order","list","ord","slice","res","updatePaymentForUser","newPm","type","last4","paymentMethods","rr","marginRight","setTimeout","o","padding","borderRadius","border","status","_c5","$RefreshReg$"],"sources":["/Users/iamwhoiam/Desktop/slooze-assignment/frontend/src/app.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './styles.css';\n\n\nconst API = 'http://localhost:4000/api';\n\n// Format price based on user country\nfunction formatPrice(user, price) {\n  if (!user) return price; \n  if (user.country === 'India') return `₹${price}`;\n  return `$${price}`;\n}\n\n// sCalling API with optional userId header\nfunction apiFetch(path, userId, opts = {}) {\n  opts.headers = opts.headers || {};\n  if (userId) opts.headers['x-user-id'] = userId;\n  opts.headers['Content-Type'] = 'application/json';\n  return fetch(`${API}${path}`, opts).then(async r => {\n    try { return await r.json(); } catch { return {}; }\n  });\n}\n\nfunction Login({ onLogin, users }) {\n  const [sel, setSel] = useState(users[0]?.id || '');\n  return (\n    <div className=\"panel\" style={{display:'flex', gap:10, alignItems:'center'}}>\n      <div style={{flex:1}}>\n        <div style={{fontWeight:700}}>Quick login</div>\n        <div className=\"small\">Simulated users (pick a role)</div>\n      </div>\n      <select className=\"usersel\" value={sel} onChange={e => setSel(e.target.value)}>\n        {users.map(u => <option key={u.id} value={u.id}>{u.name} — {u.role} — {u.country}</option>)}\n      </select>\n      <button className=\"btn btn-primary\" onClick={() => onLogin(sel)}>Login</button>\n    </div>\n  );\n}\n\nfunction Restaurants({ user, onOpen }) {\n  const [rests, setRests] = useState([]);\n  useEffect(() => {\n    if (!user) return;\n    apiFetch('/restaurants', user.id).then(r => {\n      if (r.restaurants) setRests(r.restaurants);\n    });\n  }, [user]);\n\n  if (!user) return <div className=\"panel small\">Please login to view restaurants.</div>;\n  return (\n    <div className=\"panel\">\n      <div style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\n        <div style={{fontWeight:700}}>Restaurants</div>\n        <div className=\"small\">Visible to you</div>\n      </div>\n\n      <div className=\"rest-list\" style={{marginTop:12}}>\n        {rests.map(r => (\n          <div key={r.id} className=\"rest-item\">\n            <div>\n              <span className=\"meta\">{r.name}</span>\n              <small>{r.country}</small>\n            </div>\n            <div>\n              <button className=\"btn btn-ghost\" onClick={() => onOpen(r)}>View menu</button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction Menu({ user, restaurant, onAdd }) {\n  const [menu, setMenu] = useState([]);\n  useEffect(() => {\n    if (!restaurant || !user) return;\n    apiFetch(`/restaurants/${restaurant.id}/menu`, user.id).then(r => {\n      if (r.menu) setMenu(r.menu);\n      else setMenu([]);\n    }).catch(()=>setMenu([]));\n  }, [restaurant, user]);\n\n  if (!restaurant) return null;\n  return (\n    <div className=\"panel\" style={{marginTop:12}}>\n      <div style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\n        <div style={{fontWeight:700}}>Menu — {restaurant.name}</div>\n        <div className=\"small\">Tap to add</div>\n      </div>\n      <div className=\"menu\">\n        {menu.map(it => (\n          <div key={it.id} className=\"menu-item\">\n            <div>\n              <div style={{fontWeight:600}}>{it.name}</div>\n              <div className=\"small\">{formatPrice(user, it.price)}</div>\n            </div>\n            <div>\n              <button className=\"btn btn-primary\" onClick={() => onAdd({ ...it, qty:1})}>Add</button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction Cart({ user, cart, setCart, onCheckout, onCancel }) {\n  const total = cart.reduce((s,i) => s + i.price * i.qty, 0);\n  return (\n    <div className=\"panel\">\n      <div style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\n        <div style={{fontWeight:700}}>Cart</div>\n        <div className=\"small\">{cart.length} item(s)</div>\n      </div>\n\n      <div className=\"cart-items\" style={{marginTop:10}}>\n        {cart.length===0 && <div className=\"small\">No items yet — add from the menu</div>}\n        {cart.map((it, idx) => (\n          <div key={idx} className=\"cart-row\">\n            <div>\n              <div style={{fontWeight:600}}>{it.name} <small className=\"small\">x{it.qty}</small></div>\n              <div className=\"small\">{formatPrice(user, it.price * it.qty)}</div>\n            </div>\n            <div style={{display:'flex', alignItems:'center', gap:8}}>\n              <button className=\"btn\" onClick={() => {\n                const copy = [...cart]; copy.splice(idx,1); setCart(copy);\n              }}>Remove</button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div style={{marginTop:12, display:'flex', justifyContent:'space-between', alignItems:'center'}}>\n        <div>\n          <div className=\"small\">Total</div>\n          <div style={{fontWeight:800, fontSize:18}}>{formatPrice(user, total)}</div>\n        </div>\n        <div style={{display:'flex', gap:8}}>\n          <button className=\"btn btn-ghost\" onClick={onCancel}>Cancel</button>\n          <button className=\"btn btn-primary\" onClick={onCheckout} disabled={cart.length===0}>Checkout</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function App() {\n  const [users, setUsers] = useState([]);\n  const [user, setUser] = useState(null);\n  const [restaurant, setRestaurant] = useState(null);\n  const [cart, setCart] = useState([]);\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    setUsers([\n      { id: 'u1', name: 'Nick Fury', role: 'ADMIN', country: 'GLOBAL' },\n      { id: 'u2', name: 'Captain Marvel', role: 'MANAGER', country: 'India' },\n      { id: 'u3', name: 'Captain America', role: 'MANAGER', country: 'America' },\n      { id: 'u4', name: 'Thanos', role: 'MEMBER', country: 'India' },\n      { id: 'u5', name: 'Thor', role: 'MEMBER', country: 'India' },\n      { id: 'u6', name: 'Travis', role: 'MEMBER', country: 'America' }\n    ]);\n  }, []);\n\n  const onLogin = (id) => {\n    apiFetch('/me', id).then(r => {\n      if (r.user) {\n        setUser(r.user);\n        setCart([]);\n        refreshOrders(r.user);\n      } else {\n        alert('login failed');\n      }\n    });\n  };\n\n  const refreshOrders = (u) => {\n    apiFetch('/orders', u.id).then(r => {\n      if (r.orders) setOrders(r.orders);\n    });\n  };\n\n  const onAddToCart = (item) => {\n    setCart(prev => {\n      const foundIdx = prev.findIndex(p => p.id === item.id);\n      if (foundIdx >= 0) {\n        const cp = [...prev]; cp[foundIdx].qty += 1; return cp;\n      }\n      return [...prev, item];\n    });\n  };\n\n  const onCreateOrder = () => {\n    if (!user) return alert('login first');\n    if (!restaurant) return alert('open a restaurant first');\n    const payload = { restaurantId: restaurant.id, items: cart };\n    apiFetch('/orders', user.id, { method: 'POST', body: JSON.stringify(payload) })\n      .then(r => {\n        if (r.order) {\n          alert('Order created: ' + r.order.id);\n          setCart([]);\n          refreshOrders(user);\n        } else {\n          alert(JSON.stringify(r));\n        }\n      });\n  };\n\n  const onCheckout = () => {\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to checkout (create one first)');\n      apiFetch(`/orders/${ord.id}/checkout`, user.id, { method: 'POST' })\n        .then(res => {\n          if (res.order) {\n            alert('Paid ' + ord.id);\n            refreshOrders(user);\n          } else alert(JSON.stringify(res));\n        });\n    });\n  };\n\n  const onCancel = () => {\n    if (!user) return alert('login first');\n    apiFetch('/orders', user.id).then(r => {\n      const list = r.orders || [];\n      const ord = list.slice(-1)[0];\n      if (!ord) return alert('No order to cancel');\n      apiFetch(`/orders/${ord.id}/cancel`, user.id, { method: 'POST' })\n        .then(res => {\n          if (res.order) {\n            alert('Cancelled ' + ord.id);\n            refreshOrders(user);\n          } else alert(JSON.stringify(res));\n        });\n    });\n  };\n\n  const updatePaymentForUser = () => {\n    if (!user) return alert('login first');\n    const newPm = [{ id: 'pm_new', type: 'card', last4: '9999' }];\n    apiFetch(`/users/${user.id}/payment`, user.id, { method: 'PUT', body: JSON.stringify({ paymentMethods: newPm }) })\n      .then(r => {\n        if (r.user) {\n          alert('Payment updated for ' + r.user.name);\n          apiFetch('/me', user.id).then(rr => setUser(rr.user));\n        } else alert(JSON.stringify(r));\n      });\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"header\">\n        <div className=\"title\">\n          <div className=\"logo\">FR</div>\n          <div>\n            <div className=\"h1\">Food Ordering — Demo</div>\n            <small className=\"small\">By : Ravi Raj Role-based demo</small>\n          </div>\n        </div>\n\n        <div className=\"controls\">\n          <div style={{marginRight:8}}>{user ? <div className=\"small\">Signed in: <span className=\"kv\">{user.name}</span></div> : null}</div>\n        </div>\n      </div>\n\n      <Login users={users} onLogin={onLogin} />\n\n      <div className=\"layout\" style={{marginTop:14}}>\n        <div>\n          <Restaurants user={user} onOpen={r => setRestaurant(r)} />\n          <Menu user={user} restaurant={restaurant} onAdd={onAddToCart} />\n        </div>\n\n        <div className=\"side\">\n          <Cart user={user} cart={cart} setCart={setCart}\n                onCheckout={() => { onCreateOrder(); setTimeout(()=>onCheckout(),300); }}\n                onCancel={() => { onCreateOrder(); setTimeout(()=>onCancel(),300); }} />\n          <div className=\"panel\">\n            <div style={{display:'flex', justifyContent:'space-between', alignItems:'center'}}>\n              <div style={{fontWeight:700}}>Your visible orders</div>\n              <div className=\"small\">Tap refresh</div>\n            </div>\n            <div style={{marginTop:8}}>\n              <button className=\"btn btn-ghost\" onClick={() => refreshOrders(user)}>Refresh</button>\n            </div>\n            <div style={{marginTop:10}}>\n              {orders.map(o => (\n                <div key={o.id} style={{padding:10, borderRadius:10, marginTop:8, border:'1px solid #f0f6ff'}}>\n                  <div style={{fontWeight:700}}>{o.id} — <span className=\"small\">{o.status}</span></div>\n                  <div className=\"small\">Restaurant: {o.restaurantId} — country: {o.country} — ttotal: {formatPrice(user, o.total)}</div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"footer\">\n            <small>Backend: http://localhost:4000 · In-memory demo</small>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}